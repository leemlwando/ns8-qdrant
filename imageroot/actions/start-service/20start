#!/usr/bin/env python3

import json
import sys
import subprocess

try:
    # Start the Qdrant service
    subprocess.run([
        'systemctl', '--user', 'start', 'qdrant.service'
    ], check=True)
    
    # Also enable it for auto-start
    subprocess.run([
        'systemctl', '--user', 'enable', 'qdrant.service'
    ], check=True)
    
    json.dump({"service_started": True}, fp=sys.stdout)
except subprocess.CalledProcessError as e:
    json.dump({
        "service_started": False,
        "error": str(e)
    }, fp=sys.stdout)
    sys.exit(1)
