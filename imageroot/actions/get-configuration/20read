#!/usr/bin/env python3

#
# Copyright (C) 2023 Nethesis S.r.l.
# SPDX-License-Identifier: GPL-3.0-or-later
#

import json
import sys
import os

# Read configuration from environment variables (NS8 best practice)
config = {
    "ApiKey": os.getenv("QDRANT_API_KEY", ""),
    "EnableWebUI": os.getenv("QDRANT_ENABLE_WEB_UI", "true").lower() in ('true', '1', 't'),
    "EnableJwtTokens": os.getenv("QDRANT_ENABLE_JWT_TOKENS", "true").lower() in ('true', '1', 't'),
    "HttpsEnabled": os.getenv("QDRANT_HTTPS_ENABLED", "true").lower() in ('true', '1', 't'),
    "CustomPath": os.getenv("QDRANT_CUSTOM_PATH", "/qdrant"),
    "CustomHost": os.getenv("QDRANT_CUSTOM_HOST", ""),
    "LetsEncrypt": os.getenv("QDRANT_LETS_ENCRYPT", "false").lower() in ('true', '1', 't')
}

json.dump(config, fp=sys.stdout)
